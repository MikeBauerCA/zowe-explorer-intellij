<idea-plugin>
    <id>eu.ibagroup.formainframe</id>

    <idea-version since-build="203.7148.72"/>

    <extensionPoints>

        <extensionPoint name="attributesService"
                        interface="eu.ibagroup.formainframe.dataops.attributes.AttributesService"/>

        <extensionPoint name="fileDataProvider"
                        interface="eu.ibagroup.formainframe.dataops.fetch.FileFetchProvider"/>

        <extensionPoint name="allocator"
                        interface="eu.ibagroup.formainframe.dataops.allocation.Allocator"/>

        <extensionPoint name="contentSynchronizer"
                        interface="eu.ibagroup.formainframe.dataops.content.ContentSynchronizer"/>

    </extensionPoints>

    <resource-bundle>messages.CommonBundle</resource-bundle>
    <name>For Mainframe</name>
    <vendor email="formainframe@ibagroup.eu" url="http://www.ibagroup.eu">IBA Group</vendor>

    <description>The best plugin for Mainframe on the market.</description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="eu.ibagroup.formainframe">

        <attributesService implementation="eu.ibagroup.formainframe.dataops.attributes.RemoteDatasetAttributesService"/>

        <attributesService implementation="eu.ibagroup.formainframe.dataops.attributes.RemoteMemberAttributesService"/>

        <attributesService implementation="eu.ibagroup.formainframe.dataops.attributes.RemoteUssAttributesService"/>

        <fileDataProvider
                implementation="eu.ibagroup.formainframe.dataops.fetch.DatasetFileFetchProvider"/>

        <fileDataProvider
                implementation="eu.ibagroup.formainframe.dataops.fetch.MemberFileFetchProvider"/>

        <fileDataProvider implementation="eu.ibagroup.formainframe.dataops.fetch.UssFileFetchProvider"/>

        <allocator implementation="eu.ibagroup.formainframe.dataops.allocation.DatasetAllocator"/>

        <allocator implementation="eu.ibagroup.formainframe.dataops.allocation.MemberAllocator"/>

        <allocator implementation="eu.ibagroup.formainframe.dataops.allocation.UssAllocator"/>

        <contentSynchronizer implementation="eu.ibagroup.formainframe.dataops.content.MemberContentSynchronizer"/>

        <contentSynchronizer implementation="eu.ibagroup.formainframe.dataops.content.SeqDatasetContentSynchronizer"/>

        <contentSynchronizer implementation="eu.ibagroup.formainframe.dataops.content.UssFileContentSynchronizer"/>

    </extensions>

    <extensions defaultExtensionNs="com.intellij">

        <applicationConfigurable id="configurable.mainframe.explorer"
                                 displayName="For Mainframe"
                                 provider="eu.ibagroup.formainframe.config.MainframeConfigurableProvider"/>

        <toolWindow id="zOSMF" anchor="right"
                    factoryClass="eu.ibagroup.formainframe.explorer.ui.ExplorerWindowFactory"/>

        <applicationService preload="true" serviceInterface="eu.ibagroup.formainframe.config.ConfigService"
                            serviceImplementation="eu.ibagroup.formainframe.config.ConfigServiceImpl"/>

        <applicationService serviceInterface="eu.ibagroup.formainframe.config.connect.CredentialService"
                            serviceImplementation="eu.ibagroup.formainframe.config.connect.CredentialServiceImpl"/>

        <virtualFileSystem id="eu.ibagroup.formainframe.vfs.MFVirtualFileSystem"
                           implementationClass="eu.ibagroup.formainframe.vfs.MFVirtualFileSystem"
                           key="mf"/>

        <applicationService serviceInterface="eu.ibagroup.formainframe.config.ConfigSandbox"
                            serviceImplementation="eu.ibagroup.formainframe.config.ConfigSandboxImpl"/>

        <applicationService serviceInterface="eu.ibagroup.formainframe.explorer.Explorer"
                            serviceImplementation="eu.ibagroup.formainframe.explorer.GlobalExplorer"/>

        <applicationService serviceInterface="eu.ibagroup.formainframe.dataops.DataOpsManager" preload="true"
                            serviceImplementation="eu.ibagroup.formainframe.dataops.DataOpsManagerImpl"/>

        <applicationService serviceInterface="eu.ibagroup.formainframe.dataops.api.ZosmfApi"
                            serviceImplementation="eu.ibagroup.formainframe.dataops.api.ZosmfApiImpl"/>

        <applicationService serviceImplementation="eu.ibagroup.formainframe.common.AppLevelPluginDisposable"/>

    </extensions>

    <actions>

        <action id="eu.ibagroup.formainframe.explorer.EditMember" class="eu.ibagroup.formainframe.explorer.EditMember"/>

        <action id="eu.ibagroup.formainframe.explorer.RefreshNode" class="eu.ibagroup.formainframe.explorer.RefreshNode"
                text="Refresh"
                icon="AllIcons.Actions.Refresh"/>

        <action id="eu.ibagroup.formainframe.explorer.AddWorkingSetAction"
                class="eu.ibagroup.formainframe.explorer.AddWorkingSetAction" icon="AllIcons.General.Add"/>

        <action id="eu.ibagroup.formainframe.explorer.AllocateDataset"
                class="eu.ibagroup.formainframe.explorer.AllocateDataset"
                text="Dataset"/>
        <action id="eu.ibagroup.formainframe.explorer.CreateUssFileAction"
                class="eu.ibagroup.formainframe.explorer.CreateUssFileAction"
                text="File" icon="AllIcons.FileTypes.Text"/>

        <action id="eu.ibagroup.formainframe.explorer.CreateUssDirectoryAction"
                class="eu.ibagroup.formainframe.explorer.CreateUssDirectoryAction"
                text="Directory" icon="AllIcons.Nodes.Folder"/>

        <action id="eu.ibagroup.formainframe.explorer.AddMemberAction"
                class="eu.ibagroup.formainframe.explorer.AddMemberAction" text="Member"/>

        <action class="eu.ibagroup.formainframe.explorer.SettingAction"
                id="eu.ibagroup.formainframe.explorer.SettingAction"
                icon="AllIcons.General.Settings"/>

        <action class="eu.ibagroup.formainframe.explorer.GetFilePropertiesAction"
                id="eu.ibagroup.formainframe.explorer.GetFilePropertiesAction"
                text="Properties"/>

        <group id="eu.ibagroup.formainframe.actions.ActionBarGroup">
            <reference id="eu.ibagroup.formainframe.explorer.AddWorkingSetAction"/>
            <reference id="eu.ibagroup.formainframe.explorer.SettingAction"/>
        </group>

        <group id="eu.ibagroup.formainframe.actions.NewItemGroup" text="New" popup="true"
               class="eu.ibagroup.formainframe.explorer.NewItemActionGroup">
            <reference id="eu.ibagroup.formainframe.explorer.AllocateDataset"/>
            <reference id="eu.ibagroup.formainframe.explorer.AddMemberAction"/>
            <reference id="eu.ibagroup.formainframe.explorer.CreateUssFileAction"/>
            <reference id="eu.ibagroup.formainframe.explorer.CreateUssDirectoryAction"/>
        </group>

        <group id="eu.ibagroup.formainframe.actions.ContextMenuGroup">
            <reference id="eu.ibagroup.formainframe.actions.NewItemGroup"/>
            <reference id="eu.ibagroup.formainframe.explorer.RefreshNode"/>
            <reference id="eu.ibagroup.formainframe.explorer.GetFilePropertiesAction"/>
        </group>


    </actions>

</idea-plugin>